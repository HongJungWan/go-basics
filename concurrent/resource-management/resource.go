package main

import (
	"fmt"
	"sync"
	"time"
)

// ê³ ë£¨í‹´ì´ ê°™ì€ ìì›ì— ì ‘ê·¼í•˜ì§€ ì•Šê²Œ - ì˜ì—­ì„ ë‚˜ëˆ„ëŠ” ë°©ë²•
type Job interface {
	Do()
}

type SquareJob struct {
	index int
}

func (j *SquareJob) Do() {
	fmt.Printf("%d ì‘ì—… ì‹œì‘\n", j.index)
	time.Sleep(1 * time.Second)
	fmt.Printf("%d ì‘ì—… ì™„ë£Œ - ê²°ê³¼: %d\n", j.index, j.index*j.index)
}

func main() {
	var jobList [10]Job

	for i := 0; i < 10; i++ {
		jobList[i] = &SquareJob{i}
	}

	var wg sync.WaitGroup
	wg.Add(10)

	for i := 0; i < 10; i++ {
		job := jobList[i]
		go func() {
			job.Do()
			wg.Done()
		}()
	}

	wg.Wait()
}

/*
ğŸ“Œ ë˜ ë‹¤ë¥¸ ìì› ê´€ë¦¬ ê¸°ë²•
- ëª¨ë“  ë¬¸ì œëŠ” ê°™ì€ ìì›ì„ ì—¬ëŸ¬ ê³ ë£¨í‹´ì´ ì ‘ê·¼í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•œë‹¤.
- ë§Œì•½ ê° ê³ ë£¨í‹´ì´ ê°™ì€ ìì›ì— ì ‘ê·¼í•˜ì§€ ì•Šìœ¼ë©´ ì• ë‹¹ì´ˆ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

ğŸ“Œ ê° ê³ ë£¨í‹´ì´ ì„œë¡œ ë‹¤ë¥¸ ìì›ì— ì ‘ê·¼í•˜ê²Œ ë§Œë“œëŠ” ë‘ ê°€ì§€ ë°©ë²•
- ì˜ì—­ì„ ë‚˜ëˆ„ëŠ” ë°©ë²•
-- ì¢…ì´ì˜ ê° ì˜ì—­ì„ ê°ìì—ê²Œ ë‚˜ëˆ ì„œ ì„œë¡œì˜ ì˜ì—­ì„ ì¹¨ë²”í•˜ì§€ ì•Šê³  ê·¸ë¦¬ë©´ ëœë‹¤.
-- ê° ê³ ë£¨í‹´ì€ í• ë‹¹ëœ ì‘ì—…ë§Œ í•˜ë¯€ë¡œ ê³ ë£¨í‹´ ê°„ ê°„ì„­ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
-- ê·¸ë˜ì„œ ë®¤í…ìŠ¤ê°€ í•„ìš” ì—†ë‹¤. ì˜ˆë¥¼ ë“¤ë©´ 100ê°œ íŒŒì¼ì„ ì½ì–´ì„œ ë¶„ì„í•  ë•ŒëŠ” íŒŒì¼ë³„ë¡œ ê³ ë£¨í‹´ì„ í• ë‹¹í•´ì„œ ìˆ˜í–‰í•˜ë©´ ëœë‹¤.

- ì—­í• ì„ ë‚˜ëˆ„ëŠ” ë°©ë²•
-- ë°‘ê·¸ë¦¼, ë°°ê²½ ìŠ¤ì¼€ì¹˜, ì±„ìƒ‰ì„ ê°ì ë§¡ì•„ ìˆ˜í–‰í•œë‹¤ë©´ ì‘ì—…ìê°„ ê°„ì„­ ì—†ì´ ê·¸ë¦¼ì„ ì™„ì„±ì‹œí‚¬ ìˆ˜ ìˆë‹¤.
-- ì´ ë°©ë²•ì€ ì±„ë„ ê°œë…ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤.
*/
